\usepackage{listings}
\usepackage{xcolor}
\usepackage{textcomp}

%-----------------------------------------------------
% LISTING CONFIGURATIONS
%-----------------------------------------------------

\crefname{lstlisting}{listing}{listing}	
\Crefname{lstlisting}{Listing}{Listing}
\renewcommand\lstlistlistingname{List of Listings}

\lstset{
    showstringspaces=false,
    basicstyle=\scriptsize\ttfamily,
    commentstyle={\color{olive}},
    identifierstyle=\color{black},
    ndkeywordstyle={\color{blue}},
    stringstyle={\color{magenta}},
    emphstyle={},
    keywordstyle={\color{blue}},
    breaklines=true,
    numbers=left,
    numberstyle=\tiny\color{gray},
    numbersep=10pt,
    tabsize=2,
    extendedchars=true,
    frame=trBL,
    frameround=fttt,
}

\lstdefinelanguage{Kotlin}{
    comment=[l]{//},
    emph={delegate, filter, first, firstOrNull, forEach, lazy, map, mapNotNull, println, return@},
    keywords={abstract, actual, as, as?, break, by, class, companion, continue, data, do, dynamic, else, enum, expect, false, final, for, fun, get, if, import, in, interface, internal, is, null, object, override, package, private, public, return, set, super, suspend, this, throw, true, try, typealias, val, var, vararg, when, where, while},
    morecomment=[s]{/*}{*/},
    morestring=[b]",
    morestring=[s]{"""*}{*"""},
    ndkeywords={@Deprecated, @JvmField, @JvmName, @JvmOverloads, @JvmStatic, @JvmSynthetic, Array, Byte, Double, Float, Int, Integer, Iterable, Long, Runnable, Short, String, Unit, it},
    sensitive=true
}

% https://github.com/ghammock/LaTeX_Listings_JavaScript_ES6

%
% ECMAScript 2015 (ES6) definition by Gary Hammock
%
\lstdefinelanguage[ECMAScript2015]{js}[]{js}{
    morekeywords=[1]{await, async, case, catch, class, const, default, do,
        enum, export, extends, finally, from, implements, import, as, instanceof,
    let, static, super, switch, throw, try},
    morestring=[b]` % Interpolation strings.
}

%
% JavaScript version 1.1 by Gary Hammock
%
% Reference:
%   B. Eich and C. Rand Mckinney, "JavaScript Language Specification
%     (Preliminary Draft)", JavaScript 1.1.  1996-11-18.  [Online]
%     http://hepunx.rl.ac.uk/~adye/jsspec11/titlepg2.htm
%
\lstdefinelanguage{js}{
    morekeywords=[1]{break, continue, delete, else, for, function, if, in,
    new, return, this, typeof, var, void, while, with},
    % Literals, primitive types, and reference types.
    morekeywords=[2]{false, null, true, boolean, number, undefined,
    Array, Boolean, Date, Math, Number, String, Object},
    % Built-ins.
    morekeywords=[3]{eval, parseInt, parseFloat, escape, unescape},
    sensitive,
    morecomment=[s]{/*}{*/},
    morecomment=[l]//,
    morecomment=[s]{/**}{*/}, % JavaDoc style comments
    morestring=[b]',
    morestring=[b]"
}[keywords, comments, strings]


\lstalias[]{JavaScript}[ECMAScript2015]{js}

% Requires package: color.
\definecolor{mediumgray}{rgb}{0.3, 0.4, 0.4}
\definecolor{mediumblue}{rgb}{0.0, 0.0, 0.8}
\definecolor{forestgreen}{rgb}{0.13, 0.55, 0.13}
\definecolor{darkviolet}{rgb}{0.58, 0.0, 0.83}
\definecolor{royalblue}{rgb}{0.25, 0.41, 0.88}
\definecolor{crimson}{rgb}{0.86, 0.8, 0.24}

\lstdefinestyle{JSES6Base}{
    backgroundcolor=\color{white},
    basicstyle=\ttfamily,
    breakatwhitespace=false,
    breaklines=false,
    captionpos=b,
    columns=fullflexible,
    commentstyle=\color{mediumgray}\upshape,
    emph={},
    emphstyle=\color{crimson},
    extendedchars=true,  % requires inputenc
    fontadjust=true,
    frame=single,
    identifierstyle=\color{black},
    keepspaces=true,
    keywordstyle=\color{mediumblue},
    keywordstyle={[2]\color{darkviolet}},
    keywordstyle={[3]\color{royalblue}},
    numbers=left,
    numbersep=5pt,
    numberstyle=\tiny\color{black},
    rulecolor=\color{black},
    showlines=true,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    stringstyle=\color{forestgreen},
    tabsize=4,
    title=\lstname,
    upquote=true  % requires textcomp
}

\lstdefinestyle{js}{
    language=js,
    style=JSES6Base
}
\lstdefinestyle{JavaScript}{
    language=ES6,
    style=JSES6Base
}
